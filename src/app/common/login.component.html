<div class="content-wrapper" style="background-color:#222d32;margin-left:0px;">
<form [formGroup]="loginForm" class="form-signin" (ngSubmit)="doLogin()">
    <div style="width: 100%;height: 100%;position: absolute;">
        <div style="position: absolute;top:20%;left: 50%;display: table-cell;vertical-align: middle;;text-align: center;">
            <div style="position: relative;top: 0%;left: -50%; width:400px;">
                <!-- <img src="/assets/img/sigongeducation_lcms.png" style="width:100%;"> -->
                <div class="" style="border: #d2d6de solid 2px;">
                    <div class="login-box-body">
                        <div class="form-group has-feedback">
                            <input formControlName="loginId" type="text" placeholder="ID" class="form-control" value="{{savedLoginId}}" required>
                        <span class="glyphicon glyphicon-user form-control-feedback"></span>
                        </div>
                        <div class="form-group has-feedback">
                            <input formControlName="password" type="password" placeholder="Password" class="form-control" required>
                        <span class="glyphicon glyphicon-lock form-control-feedback"></span>
                        </div>
                        <div class="row">
                        <div class="col-xs-8" style="padding-left:36px;padding-right:0px;width:250px;">
                            <div class="checkbox icheck" style="text-align: left;">
                            <label>
                                <input type="checkbox" id="saveId" [attr.checked]="savedLoginId" (click)="saveLoginId($event)"/> 아이디 저장하기
                            </label> |
                            <a href="javascript:;" style="color:#666;" (click)="registModal.show()">사용자 등록하기</a>
                            </div>
                        </div>
                        <div class="col-xs-4">
                            <button type="submit" class="btn btn-primary btn-block btn-flat" >LOGIN</button>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

<div bsModal #registModal="bs-modal" class="modal fade" (onHidden)="initModalData()" [config]="{backdrop: 'static'}">
    <div class="modal-dialog">
        <div class="modal-content">
            <form [formGroup]="userRegForm">
                <div class="modal-header">
                    <button type="button" class="close" (click)="registModal.hide()" aria-hidden="true">&times;</button>
                        <h4 class="modal-title">사용자 등록하기</h4>
                </div>
                <div class="modal-body">
                    <label style="margin-top:1%;text-align:left;color: #ff0000">※ 등록 후, 관리자 승인이 진행되어야 접속이 가능합니다.</label>
                    <table class="table table-bordered">
                        <tbody>
                            <tr role="row">
                                <th class="col-sm-4 text-center odd" style="vertical-align: middle; background-color:#f9f9f9;">이름 *</th>
                                <td class="col-sm-8">
                                    <div>
                                        <input formControlName="name" type="text" placeholder="이름" class="form-control" required>
                                    </div>
                                </td>
                            </tr>
                            <tr role="row">
                                <th class="text-center odd" style="vertical-align: middle; background-color:#f9f9f9;">아이디 *</th>
                                <td>
                                    <input formControlName="loginId" type="text" placeholder="ID" class="form-control" (keyup)="setUnchecked()" style="width:60%; float:left; margin-right:5%;" required>
                                    <button (click)="checkDuplication()" type="button" class="btn btn-primary">중복검사</button>
                                </td>
                            </tr>
                            <tr role="row">
                                <th class="text-center odd" style="vertical-align: middle; background-color:#f9f9f9;">비밀번호 *</th>
                                <td>
                                    <div>
                                        <input formControlName="password" type="password" placeholder="Password" class="form-control" required>
                                        <label style="margin-top:1%;text-align:left;color: #ff0000">비밀번호는 특수문자 포함 8자 이상 입력해주세요.<br />(특수문자가 1자 이상 포함되어야 합니다)</label>
                                    </div>
                                </td>
                            </tr>
                            <tr role="row">
                                <th class="text-center odd" style="vertical-align: middle; background-color:#f9f9f9;">비밀번호 확인 *</th>
                                <td>
                                    <div>
                                        <input formControlName="cfrmPassword" type="password" class="form-control" required>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" (click)="doRegist()">등록하기</button>
                    <button type="button" class="btn btn-default" (click)="registModal.hide()">취소</button>
                </div>
            </form>
        </div>
    </div>
</div>


<div bsModal #alertModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
        <div class="modal-body">
            <br/>
            {{alertModalMsg}}
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" (click)="goHome()">확인</button>
        </div>
    </div>
  </div>
</div>
</div>